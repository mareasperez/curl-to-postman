<main class="flex flex-col gap-8">
    @if (appState.hasOutput()) {
    <app-output-section [output]="appState.conversionState().output"
        [additionalFiles]="appState.conversionState().additionalFiles"
        [variables]="appState.conversionState().variables" [requests]="appState.conversionState().requests"
        [originalRequests]="appState.conversionState().originalRequests || []"
        [editableRequestNames]="appState.editableState().requestNames"
        [editableEnvNames]="appState.editableState().envNames" [hasModifiedRequests]="appState.hasModifiedRequests()"
        [duplicateNames]="appState.conversionState().duplicateNames" [currentFormat]="currentFormat()"
        [availableFormats]="availableFormats" (formatChanged)="onFormatChanged($event)"
        (requestNameChanged)="onRequestNameChanged($event)" (envNameChanged)="onEnvNameChanged($event)"
        (requestDetailsUpdated)="onRequestDetailsUpdated($event)"
        (requestResetRequested)="onRequestResetRequested($event)" (resetAllRequested)="onResetAllRequested()"
        (newConversionClicked)="onNewConversion()" (copyRequested)="onCopy($event)"
        (downloadRequested)="onDownload($event)"></app-output-section>
    } @else {
    <div class="empty-state">
        <p>No conversion results available.</p>
        <button (click)="onNewConversion()" class="btn btn-primary">Go to Input</button>
    </div>
    }
</main>