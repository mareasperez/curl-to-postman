<div class="container">
  <!-- Header Component -->
  <app-header (infoClicked)="toggleFeaturesModal()"></app-header>

  <!-- Main Content -->
  <main class="flex flex-col gap-8">
    <!-- Input Section - Only on home route -->
    @if (!isResultsView()) {
    <app-input-section [curlInput]="curlInput()" [curlCount]="curlCount()" (curlInputChange)="curlInput.set($event)"
      (clearClicked)="onClear()" (processClicked)="onConvert()"></app-input-section>
    }

    <!-- Output Section - Only on results route -->
    @if (isResultsView() && showOutput()) {
    <app-output-section [output]="currentOutput()" [additionalFiles]="currentAdditionalFiles()"
      [variables]="currentVariables()" [requests]="currentRequests()" [editableRequestNames]="editableRequestNames()"
      [editableEnvNames]="editableEnvNames()" [currentFormat]="currentFormat()" [availableFormats]="availableFormats()"
      [currentTab]="currentTab()" (formatChanged)="onFormatChanged($event)"
      (requestNameChanged)="onRequestNameChanged($event)" (envNameChanged)="onEnvNameChanged($event)"
      (newConversionClicked)="onNewConversion()" (copyRequested)="onCopyToClipboard($event)"
      (downloadRequested)="onDownload($event)"></app-output-section>
    }
  </main>

  <!-- Features Modal Component -->
  <app-modal [show]="showFeaturesModal()" [title]="'ℹ️ Features'" (closeClicked)="toggleFeaturesModal()">
    <ul class="feature-list">
      <li class="feature-item">
        ✅ Automatically detects repeated hosts and creates variables
      </li>
      <li class="feature-item">
        ✅ Identifies authentication tokens and generates environment variables
      </li>
      <li class="feature-item">
        ✅ Creates separate environments for localhost and remote domains
      </li>
      <li class="feature-item">
        ✅ Generates collections compatible with Postman Collection v2.1
      </li>
      <li class="feature-item">
        ✅ Supports multiple cURL commands in a single conversion
      </li>
      <li class="feature-item">
        ✅ Smart request naming based on HTTP method and endpoint
      </li>
      <li class="feature-item">
        ✅ Editable request and environment names
      </li>
      <li class="feature-item">
        ✅ Separate protocol and host variables for flexibility
      </li>
      <li class="feature-item">
        ✅ Export to multiple formats (Postman, OpenAPI 3.0, Swagger 2.0)
      </li>
    </ul>
  </app-modal>

  <!-- Toast Component -->
  <app-toast [message]="toastMessage()" [type]="toastType()" [show]="showToast()"></app-toast>
</div>